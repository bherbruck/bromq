# BroMQ Configuration
# All settings are optional - defaults are configured via struct tags in code
# Use ./bromq --help to see all available flags and their defaults

# Database Configuration
DB_TYPE=sqlite                      # sqlite (default), postgres, mysql
DB_PATH=/app/data/bromq.db         # SQLite database path
# DB_HOST=localhost                # Postgres/MySQL host
# DB_PORT=5432                     # Postgres/MySQL port (auto-detected if not set)
# DB_USER=mqtt                     # Postgres/MySQL user
# DB_PASSWORD=secret               # Postgres/MySQL password
# DB_NAME=mqtt                     # Postgres/MySQL database name
# DB_SSLMODE=disable               # Postgres SSL mode

# MQTT Server Configuration
MQTT_TCP_ADDR=:1883                # TCP listener address
MQTT_WS_ADDR=:8883                 # WebSocket listener address
# MQTT_ENABLE_TLS=false            # Enable TLS
# MQTT_TLS_CERT=/path/to/cert.pem  # TLS certificate file
# MQTT_TLS_KEY=/path/to/key.pem    # TLS key file
# MQTT_MAX_CLIENTS=0               # Max concurrent clients (0 = unlimited)
# MQTT_RETAIN_AVAILABLE=true       # Enable retained messages
# MQTT_ALLOW_ANONYMOUS=false       # Allow anonymous connections (⚠️ INSECURE)

# HTTP API Configuration
HTTP_ADDR=:8080                    # HTTP API server address
# JWT_SECRET=your-secret-here      # JWT secret (⚠️ REQUIRED for production, auto-generated if not set)

# Admin Credentials (ONLY used on first run)
# After first startup, change password via web UI or API
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=admin

# Logging
# LOG_LEVEL=info                   # debug, info, warn, error
# LOG_FORMAT=text                  # text, json

# Script Engine
# SCRIPT_TIMEOUT=5s                            # Global script timeout
# SCRIPT_MAX_PUBLISHES_PER_EXECUTION=100       # Max MQTT publishes per script execution
# SCRIPT_LOG_RETENTION=30d                     # Script log retention period

# Configuration File (YAML provisioning)
# CONFIG_FILE=/app/config.yml      # Path to YAML config for provisioning users/ACL/bridges/scripts
